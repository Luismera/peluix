(this.webpackJsonppeluix=this.webpackJsonppeluix||[]).push([[0],{66:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var a=c(0),r=c(1),n=c(34),s=c.n(n),i=c(13),o=c(2),l=c(17),d=c(8),j=c(12),b=c.n(j),h=c(18),m=c(10),p=c.n(m),u="https://api.themoviedb.org/3",O=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(u,"/movie/").concat(t),{params:{api_key:"b291736c317477bacbae1c06de4ed7f8",language:"es-ES"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(u,"/movie/").concat(t,"/credits"),{params:{api_key:"b291736c317477bacbae1c06de4ed7f8",language:"es-ES"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=c(9),v=(c(32),c.p+"static/media/default.ca7e7861.png"),g=function(e){var t=e.id,c=e.title,n=Object(r.useState)([]),s=Object(d.a)(n,2),i=s[0],o=s[1];return Object(r.useEffect)((function(){t&&x(t).then((function(e){o(e.data.cast)}))}),[t]),Object(a.jsx)("div",{className:"footer",children:Object(a.jsx)("div",{className:"single_column",children:Object(a.jsxs)("section",{className:"panel top_billed scroller",children:[Object(a.jsx)("h3",{children:"Reparto principal"}),Object(a.jsxs)("div",{id:"cast_scroller",className:"scroller_wrap should_fade is_fading",children:[Object(a.jsxs)("ol",{className:"people scroller",children:[i.slice(0,9).map((function(e){return Object(a.jsxs)("li",{className:"card",children:[Object(a.jsx)("a",{href:"https://www.themoviedb.org/person/".concat(e.id,"-").concat(e.name),rel:"noreferrer",target:"_blank",children:Object(a.jsx)("img",{className:"profile",alt:e.name,src:e.profile_path?"https://image.tmdb.org/t/p/w185".concat(e.profile_path):v})}),Object(a.jsx)("p",{children:Object(a.jsx)("a",{href:"https://www.themoviedb.org/person/".concat(e.id,"-").concat(e.name),rel:"noreferrer",target:"_blank",children:e.name})}),Object(a.jsx)("p",{className:"character",children:e.character})]},e.id)})),Object(a.jsx)("li",{className:"filler view_more",children:Object(a.jsx)("p",{children:Object(a.jsxs)("a",{href:"https://www.themoviedb.org/movie/".concat(t,"-").concat(c,"/cast"),rel:"noreferrer",target:"_blank",children:["Ver m\xe1s ",Object(a.jsx)("span",{className:"mdi mdi-arrow-right"})]})})})]}),Object(a.jsx)("div",{className:"style_wrapper"})]}),Object(a.jsx)("p",{className:"new_button",children:Object(a.jsx)("a",{className:"",href:"https://www.themoviedb.org/movie/".concat(t,"-").concat(c,"/cast"),rel:"noreferrer",target:"_blank",children:"Reparto y equipo completo"})})]})})})},N=function(){var e;f.locale("es");var t=Object(o.h)().movieId,c=Object(o.g)(),n=Object(r.useState)({}),s=Object(d.a)(n,2),i=s[0],j=s[1];Object(r.useEffect)((function(){O(t).then((function(e){j(e.data)}))}),[t]);return Object(a.jsxs)("section",{className:"inner_content movie_content backdrop poster",children:[Object(a.jsx)("div",{className:"header large border first",style:{backgroundImage:"url(https://image.tmdb.org/t/p/original".concat(i.backdrop_path,")")},children:Object(a.jsx)("div",{className:"keyboard_s custom_bg",children:Object(a.jsxs)("div",{className:"single_column",children:[Object(a.jsxs)("section",{id:"original_header",className:"images inner",children:[Object(a.jsx)("div",{className:"poster_wrapper",children:Object(a.jsx)("div",{className:"poster",children:Object(a.jsx)("div",{className:"image_content backdrop",children:Object(a.jsx)("img",{className:"poster lazyload lazyloaded",src:i.poster_path?"https://image.tmdb.org/t/p/w400".concat(i.poster_path):v,alt:i.title})})})}),Object(a.jsx)("div",{className:"header_poster_wrapper",children:Object(a.jsxs)("section",{className:"header poster",children:[Object(a.jsxs)("div",{className:"title ott_true",dir:"auto",children:[Object(a.jsxs)("h2",{className:"24",children:[Object(a.jsx)("div",{onClick:function(){return c.goBack()},children:Object(a.jsx)("i",{className:"mdi mdi-arrow-left"})}),Object(a.jsx)("a",{href:"/",children:i.original_title}),Object(a.jsxs)("span",{className:"tag release_date",children:["(",f(i.release_date).format("YYYY"),")"]})]}),Object(a.jsxs)("div",{className:"facts",children:[Object(a.jsx)("span",{className:"release",children:f(i.release_date).format("LL")}),Object(a.jsx)("span",{className:"genres",children:null===(e=i.genres)||void 0===e?void 0:e.map((function(e,t){return i.genres.length===t+1?Object(a.jsx)("a",{href:"https://www.themoviedb.org/genre/".concat(e.id,"-").concat(encodeURI(e.name),"/movie"),rel:"noreferrer",target:"_blank",children:e.name},e.id):Object(a.jsxs)("a",{href:"https://www.themoviedb.org/genre/".concat(e.id,"-").concat(encodeURI(e.name),"/movie"),rel:"noreferrer",target:"_blank",children:[e.name,", "]},e.id)}))}),Object(a.jsx)("span",{className:"runtime",children:function(e){e*=60;var t=Math.floor(e/3600);t=t<10?"0"+t:t;var c=Math.floor(e/60%60);return c=c<10?"0"+c:c,"".concat(t,"h ").concat(c,"m")}(i.runtime)})]})]}),Object(a.jsxs)("div",{className:"header_info",children:[Object(a.jsx)("h3",{className:"tagline",dir:"auto",children:i.tagline}),Object(a.jsx)("h3",{dir:"auto",children:"Vista general"}),Object(a.jsx)("div",{className:"overview",dir:"auto",children:Object(a.jsx)("p",{children:i.overview})})]})]})})]}),Object(a.jsx)("div",{id:"ott_offers_window",className:"hidden"})]})})}),Object(a.jsx)(g,Object(l.a)({},i))]})},_=function(e){var t=e.id,c=e.title,r=e.release_date,n=e.poster_path;e.backdrop_path;f.locale("es");var s=Object(o.i)().url;return Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("div",{className:"image",children:Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsx)(i.b,{to:"".concat(s,"/").concat(t),className:"image",title:c,children:Object(a.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w300".concat(n):v,className:"poster",alt:c})})})}),Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("h2",{children:Object(a.jsx)(i.b,{to:"".concat(s,"/").concat(t),title:c,children:c})}),Object(a.jsx)("p",{className:"card-text",children:f(r).format("DD MMM YYYY")})]})]})},w=c(19),k=function(){var e=Object(r.useState)(1),t=Object(d.a)(e,2),c=t[0],n=t[1],s=function(e){var t=Object(r.useState)(!0),c=Object(d.a)(t,2),a=c[0],n=c[1],s=Object(r.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],j=Object(r.useState)([]),b=Object(d.a)(j,2),h=b[0],m=b[1];return Object(r.useEffect)((function(){var t;return n(!0),l(!1),p()({method:"GET",url:"".concat("https://api.themoviedb.org/3","/movie/popular"),params:{page:e,api_key:"b291736c317477bacbae1c06de4ed7f8",language:"es-ES"},cancelToken:new p.a.CancelToken((function(e){return t=e}))}).then((function(e){m((function(t){return Object(w.a)(new Set([].concat(Object(w.a)(t),Object(w.a)(e.data.results.map((function(e){return e}))))))})),n(!1)})).catch((function(e){p.a.isCancel(e)||l(!0)})),function(){return t()}}),[e]),{loading:a,error:o,movies:h}}(c),i=s.movies,o=s.loading,j=s.error,b=Object(r.useRef)();Object(r.useEffect)((function(){var e=new IntersectionObserver(h,{root:null,rootMargin:"20px",threshold:1});b.current&&e.observe(b.current)}),[]);var h=function(e){e[0].isIntersecting&&n((function(e){return e+1}))};return Object(a.jsxs)("div",{className:"content_wrapper",children:[Object(a.jsx)("div",{className:"page_wrapper",children:i.map((function(e,t){return Object(a.jsx)(_,Object(l.a)({},e),t)}))}),Object(a.jsx)("div",{ref:b,children:o&&"Cargando..."}),Object(a.jsx)("div",{children:j&&"Error"})]})},y=function(){return Object(a.jsxs)(i.a,{children:[Object(a.jsx)("header",{children:Object(a.jsxs)("h2",{children:[Object(a.jsx)("i",{className:"mdi mdi-movie-roll"}),"PELUIX"]})}),Object(a.jsx)("main",{id:"main",children:Object(a.jsxs)(o.d,{children:[Object(a.jsx)(o.b,{exact:!0,path:"/movies",children:Object(a.jsx)(k,{})}),Object(a.jsx)(o.b,{exact:!0,path:"/movies/:movieId",children:Object(a.jsx)(N,{})}),Object(a.jsx)(o.a,{to:"/movies"})]})})]})},E=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(y,{})})};c(66);s.a.render(Object(a.jsx)(E,{}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.54f7cc0d.chunk.js.map